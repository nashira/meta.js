meta calc {
  exec = term:a end            -> a <-,
  
  term = term:a '+' fact:b     -> a + b <-
       | term:a '-' fact:b     -> a - b <-
       | fact:a                -> a <-,
       
  fact = fact:a '*' num:b      -> a * b <-
       | fact:a '/' num:b      -> a / b <-
       | num:a                 -> a <-,
  
  num  = _? digit+:n _?        -> parseInt(n.join('')) <-
       | _? '(' term:a ')' _?  -> a <-,
}

meta meta {
  grammar    = 'meta' name '{' rule+ '}',
  
  rule       = name '=' expression ',',
  
  name       = letter:first (letter | digit)*:rest { [first].concat(rest); },
  
  expression = choice,
  
  choice     = sequence ('|' sequence)*,
  
  sequence   = labeled+ action
             | labeled+,
  
  labeled    = prefixed ':' name
             | prefixed,
  
  prefixed   = '&' suffixed
             | '~' suffixed
             | suffixed,
  
  suffixed   = primary '?'
             | primary '+'
             | primary '*'
             | primary,
            
  primary    = name
             | literal
             | '(' expression ')',
  
  action     = '{' (~'}' char)* '}',
}